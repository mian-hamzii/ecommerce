{% extends 'templates/base.html' %}
{% load cart_tag %}
{% block slider %}

    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://images.unsplash.com/photo-1562254492-377a3ac576f4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"
                     class="d-block w-100" alt="..." style="height: 30rem;">
            </div>
            <div class="carousel-item">
                <img src="https://images.unsplash.com/photo-1632518193213-b34d7731376b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"
                     class="d-block w-100" alt="..." style="height: 30rem">
            </div>
            <div class="carousel-item">
                <img src="https://images.unsplash.com/photo-1651054008618-34348b76164c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"
                     class="d-block w-100" alt="..." style="height: 30rem">
            </div>
            <div class="carousel-item">
                <img src="https://images.unsplash.com/photo-1582974114209-b508ec603c6e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=865&q=80"
                     class="d-block w-100" alt="..." style="height: 30rem">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
                data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
                data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
{% endblock %}
{% block content %}

    <div class="row row-cols-1 row-cols-sm-2 row-cols-xl-4 mt-3">
        {% for product in product_list %}
            <div class="col-lg-3 mb-3 d-flex align-items-stretch">
                <div class="card text-black text-center">
                    <img class="card-img-top" src="{{ product.picture.url }}" style="height: 225px;" alt="Card image">
                    <div class="card-body d-flex flex-column">
                        <div class="text-center">
                            <h5 class="card-title">{{ product.title }}</h5>
                        </div>
                        <p class="card-text mb-4">{{ product.description }}</p>
                        <p>Price: {{ product.price }}</p>
                        <p>Brand: <a href="{% url 'product' product.brand_id %}">{{ product.brand }}</a></p>
                        <p>Status: {{ product.status }}</p>
                        <p>Quantity: {{ product.quantity }}</p>
                        <a href="#" data-product-id="{{ product.id }}" class="btn btn-warning mt-auto addToCartBtn">Add
                            to Cart</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

{#    <script>#}
{#        $(".addToCartBtn").click(function (e) {#}
{#            e.preventDefault();#}
{#            var productId = $(this).data("product-id");#}
{#            $.ajax({#}
{#                url: '/cart/add/' + productId,#}
{#                type: "GET",#}
{#                success: function (response) {#}
{#                    console.log(response);#}
{#                    // Update the cart information on the page#}
{#                    // You can display a success message or update the cart count dynamically#}
{#                },#}
{#                error: function (xhr, status, error) {#}
{#                    // Handle the error#}
{#                    console.error(error);#}
{#                }#}
{#            });#}
{#        });#}
{#    </script>#}

{% endblock %}
